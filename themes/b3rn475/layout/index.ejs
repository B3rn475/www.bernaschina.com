<body class="homepage">
  <header>
    <div class="title">
      <h1><span class="darker">CARLO</span> BERNASCHINA</h1>
      <h2>Software Engineer <span class="lighter">&amp;</span> PhD</h2>
    </div>
    <a class="down" href="#posts" rel="nofollow"></a>
    <label class="theme-switcher">
      <input type="checkbox">
    </label>
  </header>
  <a name="posts"></a>
  <script>
    (function () {
      document.body.className += " dynamic-loading";
    })();
  </script>
  <ul class="posts">
  <% page.posts.each(function (post) { -%>
    <li class="post">
      <a class="cover" href="<%= url_for(post.link || post.path) %>" title="<%= post.title %>">
        <img src="<%= post.featured_image %>">
      </a>
      <div class="details">
        <p><%= date(post.date) %></p>
        <h3 class="title">
          <a href="<%= url_for(post.link || post.path) %>" title="<%= post.title %>">
            <%= post.title %>
          </a>
        </h3>
        <p><%= post.excerpt %></p>
      </div>
    </li>
  <% }); -%>
  </ul>
  <script>
    (function (page_size) {
      function showPost(post) {
        post.className += " in-view";
      }
      var posts_list = document.querySelector("ul.posts"),
          posts = Array.from(posts_list.querySelectorAll("li.post")),
          top_post = 0,
          succ,
          succ_container;
      posts.slice(top_post, top_post + page_size).forEach(showPost);
      top_post += page_size;
      if (top_post < posts.length) {
        succ_container = document.createElement('li');
        succ_container.className = "more";
        succ = document.createElement('button');
        succ.innerHTML = "More Posts";
        succ.addEventListener('click', function () {
          posts.slice(top_post, top_post + page_size).forEach(showPost);
          top_post += page_size;
          if (top_post >= posts.length) {
            succ_container.remove();
            return;
          }
        });
        succ_container.appendChild(succ);
        posts_list.appendChild(succ_container);
      }
    })(5);
  </script>
  <footer>
    <div class="social">
      <a rel="external" href="https://www.youtube.com/user/b3rn475" target="_blank">
        <img src="/images/youtube.png" alt="YouTube">
      </a>
      <a rel="external" href="https://linkedin.com/in/b3rn475" target="_blank">
        <img src="/images/linkedin.png" alt="LinkedIn">
      </a>
      <a rel="external" href="https://scholar.google.pt/citations?user=Pt83gAMAAAAJ" target="_blank">
        <img src="/images/google_scolar.png" alt="Google Scholar">
      </a>
      <a rel="external" href="https://dblp.org/pers/hd/b/Bernaschina:Carlo" target="_blank">
        <img src="/images/dblp.png" alt="DBLP">
      </a>
    </div>
    <br>
    <div class="copyright">
      Â© <%= date(Date.now(), 'YYYY') %> Carlo Bernaschina.
      Powered by <a href="http://hexo.io/" title="Hexo" target="_blank" rel="noopener">Hexo</a>
      <br>
      <br>
      <a href="/privacy-policy">Privacy Policy</a>
    </div>
  </footer>
</body>
